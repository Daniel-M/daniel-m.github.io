<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.30.2" />
  <meta name="author" content="Daniel Mejía Raigosa">

  
  
  
  
    
      
    
  
  <meta name="description" content="This post is part of a series of ESP32 blog posts. Look the index here
Introduction (sort of) The ESP32 was originally conceived by espressif a multinational company with headquarters in Shangai, focused on developing cutting-edge WiFi-and-Bluetooth, low-power, IoT solutions. Among our popular products are the ESP8266 and ESP32 series of chips, modules and development boards.
The ESP32 can be programmed in several ways, among the languages and platforms supported the most popular are,">

  
  <link rel="alternate" hreflang="en-us" href="https://daniel-m.github.io/post/2018/oct/esp32/esp32-2-setting_up_development_environment/">

  


  

  
  
  <meta name="theme-color" content="#233227">
  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7cMerriweather%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-91541000-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  
  <link rel="alternate" href="https://daniel-m.github.io/index.xml" type="application/rss+xml" title="Daniel Mejía Raigosa">
  <link rel="feed" href="https://daniel-m.github.io/index.xml" type="application/rss+xml" title="Daniel Mejía Raigosa">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://daniel-m.github.io/post/2018/oct/esp32/esp32-2-setting_up_development_environment/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@danielmejia55_">
  <meta property="twitter:creator" content="@danielmejia55_">
  
  <meta property="og:site_name" content="Daniel Mejía Raigosa">
  <meta property="og:url" content="https://daniel-m.github.io/post/2018/oct/esp32/esp32-2-setting_up_development_environment/">
  <meta property="og:title" content="ESP32: Setting up a development environment | Daniel Mejía Raigosa">
  <meta property="og:description" content="This post is part of a series of ESP32 blog posts. Look the index here
Introduction (sort of) The ESP32 was originally conceived by espressif a multinational company with headquarters in Shangai, focused on developing cutting-edge WiFi-and-Bluetooth, low-power, IoT solutions. Among our popular products are the ESP8266 and ESP32 series of chips, modules and development boards.
The ESP32 can be programmed in several ways, among the languages and platforms supported the most popular are,">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-10-28T20:40:25-05:00">
  
  <meta property="article:modified_time" content="2018-10-28T20:40:25-05:00">
  

  

  <title>ESP32: Setting up a development environment | Daniel Mejía Raigosa</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Daniel Mejía Raigosa</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#hero">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>About Me</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Blog</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#courses">
            
            <span>Courses &amp; Talks</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">ESP32: Setting up a development environment</h1>

    

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2018-10-28 20:40:25 -0500 -05" itemprop="datePublished dateModified">
      Oct 28, 2018
    </time>
  </span>
  <span itemscope itemprop="author publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Daniel Mejía Raigosa">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    4 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/categories/esp32">ESP32</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=ESP32%3a%20Setting%20up%20a%20development%20environment&amp;url=https%3a%2f%2fdaniel-m.github.io%2fpost%2f2018%2foct%2fesp32%2fesp32-2-setting_up_development_environment%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fdaniel-m.github.io%2fpost%2f2018%2foct%2fesp32%2fesp32-2-setting_up_development_environment%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fdaniel-m.github.io%2fpost%2f2018%2foct%2fesp32%2fesp32-2-setting_up_development_environment%2f&amp;title=ESP32%3a%20Setting%20up%20a%20development%20environment"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fdaniel-m.github.io%2fpost%2f2018%2foct%2fesp32%2fesp32-2-setting_up_development_environment%2f&amp;title=ESP32%3a%20Setting%20up%20a%20development%20environment"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=ESP32%3a%20Setting%20up%20a%20development%20environment&amp;body=https%3a%2f%2fdaniel-m.github.io%2fpost%2f2018%2foct%2fesp32%2fesp32-2-setting_up_development_environment%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


    <div class="article-style" itemprop="articleBody">
      

<p><a href="http://daniel-m.github.io/post/2018/oct/esp32/esp32-1_getting_started/" target="_blank"><em>This post is part of a series of ESP32 blog posts. Look the index here</em></a></p>

<h2 id="introduction-sort-of">Introduction (sort of)</h2>

<p>The <a href="https://www.espressif.com/en/products/hardware/esp32" target="_blank">ESP32</a> was originally conceived by
<a href="https://www.espressif.com/" target="_blank">espressif</a> a multinational company with
headquarters in Shangai, focused on developing cutting-edge WiFi-and-Bluetooth,
low-power, IoT solutions. Among our popular products are the ESP8266 and ESP32
series of chips, modules and development boards.</p>

<p>The ESP32 can be programmed in several ways, among the languages and platforms
supported the most popular are,</p>

<ul>
<li><a href="https://micropython.org" target="_blank">MicroPython</a> a python implementation for embedded
systems.<br /></li>
<li><a href="https://www.arduino.cc/en/Main/Software" target="_blank">Arduino IDE</a> the IDE for Arduino
platforms.</li>
<li><a href="http://www.nodemcu.com/" target="_blank">NodeMCU</a> a platform to program embedded systems
using Lua.<br /></li>
<li><a href="https://platformio.org/platformio-ide" target="_blank">PlatformIO</a> a project which aims to
provide an unified development tool for embedded systems.<br /></li>
<li><a href="https://github.com/espressif/esp-idf" target="_blank">Espressif esp-idf</a> Espressif IoT Development Framework. Official development framework for ESP32. I&rsquo;ll be using this.<br /></li>
</ul>

<h2 id="getting-a-working-espressif-esp-idf-environment">Getting a working Espressif esp-idf environment</h2>

<p>This part is based on <a href="https://docs.espressif.com/projects/esp-idf/en/stable/get-started/" target="_blank">the official instructions by espressif</a>.</p>

<p>The installation process consists of two steps,</p>

<ul>
<li>Setting up the toolchain.<br /></li>
<li>Setting up the Espressif esp-idf from github.<br /></li>
</ul>

<p>To get the esp-idf, head to <a href="https://github.com/espressif/esp-idf" target="_blank">https://github.com/espressif/esp-idf</a>,
click the <code>releases</code> button and download the latest release available.</p>

<p><img src="./idf-releases.png" alt="IDF releases" /></p>

<p>Now install some prerequisites to the build process,</p>

<pre><code>sudo apt-get install gcc git wget make libncurses-dev flex bison gperf python python-serial
</code></pre>

<p>Now, a recommended place to install the esp-idf is the path <code>$HOME/opt/esp</code>. In
order to simplify the install process, declare the following variable,</p>

<pre><code>export ESP_PATH=$HOME/opt/esp
</code></pre>

<p>And create the required destination directory.</p>

<pre><code>mkdir $ESP_PATH
</code></pre>

<h3 id="getting-the-toolchain">Getting the toolchain</h3>

<p>The toolchain can be obtained by one of two ways,</p>

<ul>
<li>Building from source. This allows to have a custom toolchain if some
configurations are set.<br /></li>
<li>Using a precompiled toolchain. This approach is more restrictive, but
straightforward.<br /></li>
</ul>

<p>I&rsquo;ve tried both approaches, and found that the later is the simplest way to get
a working toolchain.</p>

<p>There are OS specific instructions for <a href="https://docs.espressif.com/projects/esp-idf/en/v3.1/get-started/windows-setup.html" target="_blank">Windows</a>,
<a href="https://docs.espressif.com/projects/esp-idf/en/v3.1/get-started/linux-setup.html" target="_blank">Linux</a>,
and <a href="https://docs.espressif.com/projects/esp-idf/en/v3.1/get-started/macos-setup.html" target="_blank">MacOS</a>.</p>

<p>As the time of writing this blog, the latest precompiled toolchain could be
obtained in Linux by running,</p>

<pre><code>cd $ESP_PATH
wget https://dl.espressif.com/dl/xtensa-esp32-elf-linux64-1.22.0-80-g6c4433a-5.2.0.tar.gz
tar xvfz xtensa-esp32-elf-linux64-1.22.0-80-g6c4433a-5.2.0.tar.gz
</code></pre>

<p>Finally, add the toolchain to the <code>$PATH</code>,</p>

<pre><code>export PATH=&quot;$PATH:$HOME/opt/esp/xtensa-esp32-elf/bin&quot;
</code></pre>

<h3 id="getting-the-esp-idf">Getting the ESP-IDF</h3>

<p>First, we need to define an environment variable pointing to the destination
of the esp-idf</p>

<pre><code>export IDF_PATH=$ESP_PATH/esp-idf
</code></pre>

<p>Then we can head there and get the latest version of the esp-idf from github</p>

<pre><code>cd $ESP_PATH
git clone -b v3.1 --recursive https://github.com/espressif/esp-idf.git
</code></pre>

<p>You can replace <code>v3.1</code> with the latest tag available in the repository. Now, to
bootstrap the repository,</p>

<pre><code>cd $IDF_PATH
git submodule update --init --recursive
</code></pre>

<p>The currently logged user should have read and write access the serial port over USB.
On most Linux distributions, this is done by adding the user to <code>dialout</code> group
with the following command:</p>

<pre><code>sudo usermod -a -G dialout $USER
</code></pre>

<p>Make sure you re-login to the shell in order to the changes to take effect
(there are other ways to achieve this, but maybe the most universal way is a
simple logout)</p>

<p>To test the installation you can run</p>

<pre><code>xtensa-esp32-elf-gcc --version
</code></pre>

<h2 id="testing-serial-communications">Testing serial communications</h2>

<p>A bunch of blog posts cover the ways in which we can read and write to a serial
port in linux. For example, <a href="https://www.cyberciti.biz/hardware/5-linux-unix-commands-for-connecting-to-the-serial-console/" target="_blank">this blog post shows several options</a>. In linux systems a way
to detect the serial port used by our device is to list the contents of the
tty&rsquo;s available under <code>/dev</code> with <code>ls /dev/tty*</code>, then connect the ESP32 with
the USB cable and list <code>ls /dev/tty*</code> again. You&rsquo;ll notice that a new element
appears with the name <code>/dev/ttyS0</code> or <code>/dev/ttyUSB0</code> (or any other number like
ttyUSB1, depending on your particular hardware and linux distribution).</p>

<h3 id="picocom">Picocom</h3>

<p>Picocom is a minimal terminal emulator which can be connected to the serial
port. To get it installed just run,</p>

<pre><code>sudo apt-get install picocom
</code></pre>

<p>Connect the ESP32. If it is connected to the <code>/dev/ttyUSB0</code> serial port, you can
check the connection with</p>

<pre><code>picocom /dev/ttyUSB0
</code></pre>

<h3 id="esp-idf-monitor">esp-idf monitor</h3>

<p>esp-idf comes with a serial monitor which can be run with <code>make monitor</code> under
a project&rsquo;s directory.</p>

<p>The simplest way to check that everything is properly installed is to burn the
<code>hello world</code> included with the esp-idf,</p>

<pre><code>cd $IDF_PATH/examples/get-started/hello_world
</code></pre>

<p>And run</p>

<pre><code>make
</code></pre>

<p>This compiles the program. To load it to the ESP32, connect it with the USB
cable and run,</p>

<pre><code>make flash
</code></pre>

<p>Which will take care of everything.</p>

<p>To check the actual <code>hello world</code>, wait until the load is completed and either run</p>

<pre><code>picocom /dev/ttyUSB0
</code></pre>

<p>or</p>

<pre><code>make monitor # from within the hello-world proyect folder
</code></pre>

<p>You should see something like this,</p>

<p>![The hello-wolrd]()</p>

    </div>

    


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/esp32">ESP32</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/iot">IoT</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/projects">Projects</a>
  
</div>




    
    
    <div class="article-widget">
      <div class="hr-light"></div>
      <h3>Related</h3>
      <ul>
        
        <li><a href="/post/2018/oct/esp32/esp32-1_getting_started/">Getting started with the ESP32</a></li>
        
      </ul>
    </div>
    

    

    


  </div>
</article>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 Daniel Mejía R. &middot; 

      Powered by 
      
      
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>

